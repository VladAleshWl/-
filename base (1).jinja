<html lang="ru">
    
    <head>

        <meta http-equiv="Content-Security-Policy" content="default-src *; media-src * blob: 'unsafe-inline' 'unsafe-eval'; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="theme-color" content="#fff">
        
        <title>{% block title %}Misty Flower - мобильная игра для Android бесплатно{% endblock %}</title>
        
        <link rel="icon" type="image/png" href="/favicon.png" />
        <style>

        * {
            margin: 0;
            padding: 0;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        header {
            background: -webkit-gradient(linear,left top,right top,from(#3d057a),to(#188b9d)) no-repeat;
            background: linear-gradient(to right,#3d057a 0,#188b9d 100%) no-repeat;
            position: relative;

            display: grid;
            grid-template-columns: 0.1fr 0.8fr 0.1fr;
            text-align: center;
            height: 3rem;
            align-items: center;
        }

        .h-l {
            font-size: large;
            text-transform: uppercase;
            font-weight: bolder;
        }

        .h-l, .h-m, .h-s {
            color: #fff;
        }

        .h-s img {
            height: 2rem;
        }

        body {
            color: #1c1c1c;
            background-color: #fff;
            font-family: system-ui;
            font-weight: 300;
            font-size: 14px;
        }

        main {
            position: relative;
            transition-property: top;
            -webkit-transition-property: top;
            /*overflow-y: scroll;*/
            height: 100%;
        }

        .g {
            display: grid;
            grid-template-areas: "a a";
            gap: 1rem 5px;
            grid-auto-columns: 50%;

            width: 100%;
        }

        img {
            max-width: 100%;
            /*height: auto;*/
            display: block;
            border: 0;
            user-drag: none;
            -moz-user-select: none;
            -webkit-user-drag: none;
        }

        .g img {
            min-height: 175px;

            background: #f6f6f6;
            border-radius: 8px;
        }

        .g div {

            /*display: grid;
            grid-template-rows: 60% 30% 10%;
            /*grid-template-rows: 1fr 0.3fr 0.1fr;*/
           /* gap: 10px;*/
        }

        .g div b
        {
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;

            display: block;
            color: #000;
        }

        .g div p {
            margin-top: 1rem;
            font-size: 14px;
            line-height: 20px;
            color: #999;
            position: relative;
            width: 70%;
        }

        /*.g div:nth-child(even) {
            margin-right: 15px;
        }

        .g div:nth-child(odd) {
            margin-left: 10px;
        }*/

        .g-w {
            background: #f1f1f1;
            margin: 0;
            width: 50%;
            min-height: 80vh;
            padding: 5rem 25%;

            padding-top: 5rem;
        }

        .main-content-wrapper
        {
            margin-top: 2.45rem;
            position: relative;
            transition-property: top;
            -webkit-transition-property: top;
            overflow-y: scroll;
            height: 100%;
        }

        @media screen and (max-width: 960px)
        {

            header {
                grid-template-columns: 0.2fr 0.8fr 0.2fr;
            }

            .g-w {
                width: 100%;
                padding: 3rem 0;
            }

            .g div p {
                width: 100%;
            }

            .g {
                display: block;
            }

            .g div:nth-child(even), .g div:nth-child(odd) {
                margin: 0;
                padding: 0rem 0.5rem 1.5rem 0.5rem;
            }

            .g img
            {
                width: 100%;
            }

        }

        footer {
            background: #fff;
            padding: 0 0.5rem;
        }

        footer a {
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            align-content: center;
            justify-content: center;
            align-items: center;
        }

        /* registration -- todo -- remove (registration from game required) */
        .form-input {
            width: 100%;
            display: flex;
            flex-wrap: nowrap;
            align-content: center;
            align-items: center;
            flex-direction: column;
            margin-bottom: 2em;
        }

        form input {
            display: block;
            font-family: inherit;
            font-weight: 400;
            font-size: 20px;
            line-height: 100%;
            color: #fff;
            width: 100%;
            height: 100%;
            padding: 0 10px 0 27px;
            margin: 0;
            background: 0 0;
            border: none;
            border-radius: inherit;
            box-shadow: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            min-width: auto;
            transition: .25s;
            border-bottom: 2px solid #4bbfc8;
        }

        form button {
            z-index: 1;
            top: 10px;
            right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: inherit;
            font-weight: 800;
            font-size: 24px;
            line-height: normal;
            text-transform: uppercase;
            color: #fff;
            height: calc(100% - 20px);
            padding: 5px 24px;
            border-radius: 6px;
            background: linear-gradient(120deg,#9440ff 0,#9440ff 50%,#627aff 75%,#4bc0c8 100%);
            background-size: 200% 200%;
            border: none;
            transition: .2s;
            cursor: pointer;
            white-space: nowrap;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
            overflow: hidden;
        }

        form button:hover {
            background-position: 100% 100%;
        }

        form input[type=checkbox]
        {
            position: relative;
            cursor: pointer;
            border-bottom:  initial;
        }
        form input[type=checkbox]:before
        {
            content: "";
            display: block;
            position: absolute;
            width: 16px;
            height: 16px;
            top: 0;
            left: 0;
            border: 2px solid #555555;
            border-radius: 3px;
            background-color: white;
        }
        form input[type=checkbox]:checked:after
        {
            content: "";
            display: block;
            width: 5px;
            height: 10px;
            border: solid black;
            border-width: 0 2px 2px 0;
            -webkit-transform: rotate(45deg);
            -ms-transform: rotate(45deg);
            transform: rotate(45deg);
            position: absolute;
            top: 2px;
            left: 6px;
        }

        </style>

    </head>
    <body>

        <main>

            <header>

                <div class="h-m">{% if request.user.id %}<a href="{{ url('user:private') }}">{{ request.user.email }}</a>{% else %}<a href="{{ url('user:auth') }}">Вход</a>{% endif %}</div>
                <div class="h-l"><a href="/">Misty Flower</a></div>
                <div class="h-s"><img src="/favicon.png"></div>

            </header>
            
            <div class="g-w">

                <div class="g">
                    
                    {% block content %}
                    {% for item in items %}

                    <div>
                        <a href="{{ item.get_url() }}">
                            <img height="175px" src="{{ item.get_image(request.mobile) }}">
                            <p>
                                <b>{{ item.name }}</b>
                                <span>{{ item.created_at | human_date() }}</span>
                            </p>
                        </a>
                    </div>

                    {%  endfor %}
                    {% endblock %}

                </div>

            </div>

            <footer>
                
                <a target="_blank" href="https://t.me/MistyFlower"><?xml version="1.0" ?><svg width="2rem" height="2rem" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"><rect fill="#fff" height="60" rx="10" width="60"/><path d="M49.281,11.425,9.305,26.417a2.01,2.01,0,0,0-.087,3.73l9.471,4.059,19.9-13.268a.5.5,0,0,1,.634.774l-14.5,14.5V46.268l6.031-6.031,9.6,8a2.01,2.01,0,0,0,3.237-1.057L51.938,13.8A2.011,2.011,0,0,0,49.281,11.425Z" fill="#f1f3f4"/><path d="M41.634,50.207a3.493,3.493,0,0,1-2.241-.816l-8.549-7.124-5.063,5.062a1.5,1.5,0,0,1-2.56-1.06V36.217a1.5,1.5,0,0,1,.439-1.061l7.382-7.382-11.521,7.68a1.5,1.5,0,0,1-1.422.131L8.628,31.526a3.51,3.51,0,0,1,.15-6.513L48.755,10.021a3.511,3.511,0,0,1,4.638,4.138L45.046,47.546a3.49,3.49,0,0,1-2.316,2.485A3.553,3.553,0,0,1,41.634,50.207ZM30.752,38.737a1.5,1.5,0,0,1,.96.348l9.6,8a.506.506,0,0,0,.486.094.5.5,0,0,0,.337-.362l8.346-33.386a.51.51,0,0,0-.673-.6h0L9.831,27.821a.511.511,0,0,0-.021.948l8.723,3.738L37.759,19.69a2,2,0,0,1,2.526,3.082L26.221,36.838v5.809l3.47-3.47A1.5,1.5,0,0,1,30.752,38.737ZM49.281,11.426h0Z" fill="#8d9cf4"/><path d="M9.305,27.917a1.5,1.5,0,0,1-.527-2.9L48.755,10.021a3.511,3.511,0,0,1,4.638,4.138,1.5,1.5,0,0,1-2.911-.726.511.511,0,0,0-.673-.6L9.831,27.821A1.476,1.476,0,0,1,9.305,27.917Z" fill="#7bcdd1"/></svg> Телеграм</a>

            </footer>

            {% block footer_scripts %}
            {% endblock %}

        </main>

    </body>

</html>